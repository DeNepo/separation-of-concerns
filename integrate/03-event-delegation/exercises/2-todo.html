<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Todo</title>
  </head>

  <body>
    <main id="user-interface">
      <ul id="list">
        <li><button>X</button><input value="start coding" /></li>
        <li><button>X</button><input value="stop coding" /></li>
        <li><button id="add-todo-button">+</button></li>
      </ul>
    </main>

    <script id="handlers">
      const deleteTodoHandler = (event) => {
        debugger;
        const target = event.target;
        if (target.nodeName === "BUTTON" && target.innerHTML === "X") {
          const liToRemove = target.parentElement;
          const todoList = document.getElementById("list");
          todoList.removeChild(liToRemove);
        }
      };

      const addTodoHandler = (event) => {
        debugger;

        const newLi = document.createElement("li");
        const newButton = document.createElement("button");
        newButton.innerHTML = "X";
        newLi.appendChild(newButton);
        const newInput = document.createElement("input");
        newLi.appendChild(newInput);

        const addButton = event.target; // +
        const addButtonParent = addButton.parentElement; // li
        const todoList = addButtonParent.parentElement; //ul
        todoList.insertBefore(newLi, addButtonParent); // ask Koen about
      };
    </script>

    <script id=" listeners">
      document
        .getElementById("list")
        .addEventListener("click", deleteTodoHandler);

      document.getElementById("list").addEventListener("click", addTodoHandler);
    </script>
  </body>
</html>
