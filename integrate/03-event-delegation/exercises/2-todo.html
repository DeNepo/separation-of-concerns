<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Todo</title>
  </head>

  <body>
    <main id="user-interface">
      <ul id="list">
        <li><button>X</button><input value="start coding" /></li>
        <li><button>X</button><input value="stop coding" /></li>
        <li><button id="add-todo-button">+</button></li>
      </ul>
    </main>

    <script id="handlers">
      const deleteTodoHandler = (event) => {
        debugger;
        const target = event.target; // SELECT button
        if (target.nodeName === "BUTTON" && target.innerHTML === "X") {
          const liToRemove = target.parentElement; // parent element of button is li
          const todoList = document.getElementById("list"); // select ul
          todoList.removeChild(liToRemove); // remove the child of ul => li
        }
      };

      const addTodoHandler = (event) => {
        debugger;

        const newLi = document.createElement("li"); // create a li element
        const newButton = document.createElement("button"); // create a button element
        newButton.innerHTML = "X"; // textContent is X
        newLi.appendChild(newButton); // append button inside li
        const newInput = document.createElement("input"); // create an input element
        newLi.appendChild(newInput); // append input to li

        const addButton = event.target; // SELECT +
        const addButtonParent = addButton.parentElement; // SELECT parent element of +, it is li
        const todoList = addButtonParent.parentElement; //SELECT parent element of li, it is ul
        todoList.insertBefore(newLi, addButtonParent); // before parent element
      };
    </script>

    <script id=" listeners">
      document
        .getElementById("list")
        .addEventListener("click", deleteTodoHandler);

      document
        .getElementById("add-todo-button")
        .addEventListener("click", addTodoHandler);
    </script>
  </body>
</html>
